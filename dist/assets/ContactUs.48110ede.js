import{x as se,v as oe,c as C,r as g,o as re,A as v,j as ie,O as ue,m as a,w as P,L as I,y as T,B as de,aE as me,J as M,av as ce,b as fe,az as ge,X as ve,W as he,Z as B,a2 as N,$ as h,a0 as U,a1 as p,U as R,a4 as G,a3 as pe}from"./index.30a016ab.js";import{J as Ve,u as be,_ as ye}from"./VAvatar.cd1b5461.js";import{V as xe}from"./VCard.279009b9.js";import{V as we}from"./VSpacer.292e376a.js";import{V as q}from"./VAlert.52448df5.js";import{d as Ce,e as ke,g as Fe,h as $e,i as Se,j as Pe,k as Ie,l as Be,c as E}from"./VTextField.80b764b5.js";import{f as Ne}from"./forwardRefs.54bb1675.js";import{V as Re}from"./VBtn.fbb07072.js";import{V as Ue}from"./VForm.86f8d182.js";class j{constructor(s,d,V){this.email=s,this.name=d,this.message=V}}const _e=se({name:"VTextarea",directives:{Intersect:Ve},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,...Ce(),...ke()},emits:{"click:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,s){let{attrs:d,emit:V,slots:o}=s;const l=oe(e,"modelValue"),{isFocused:n,focus:J,blur:O}=Fe(e),L=C(()=>typeof e.counterValue=="function"?e.counterValue(l.value):(l.value||"").toString().length),W=C(()=>{if(d.maxlength)return d.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function X(t,r){var i,u;!e.autofocus||!t||(i=r[0].target)==null||(u=i.focus)==null||u.call(i)}const _=g(),b=g(),H=g(""),y=g(),z=C(()=>n.value||e.persistentPlaceholder),Z=C(()=>e.messages.length?e.messages:z.value||e.persistentHint?e.hint:"");function k(){if(y.value!==document.activeElement){var t;(t=y.value)==null||t.focus()}n.value||J()}function K(t){k(),V("click:control",t)}function Q(t){t.stopPropagation(),k(),M(()=>{l.value="",ce(e["onClick:clear"],t)})}function Y(t){l.value=t.target.value}const m=g();function c(){!e.autoGrow||M(()=>{if(!m.value||!b.value)return;const t=getComputedStyle(m.value),r=getComputedStyle(b.value.$el),i=parseFloat(t.getPropertyValue("--v-field-padding-top"))+parseFloat(t.getPropertyValue("--v-input-padding-top"))+parseFloat(t.getPropertyValue("--v-field-padding-bottom")),u=m.value.scrollHeight,F=parseFloat(t.lineHeight),$=Math.max(parseFloat(e.rows)*F+i,parseFloat(r.getPropertyValue("--v-input-control-height"))),S=parseFloat(e.maxRows)*F+i||1/0;H.value=fe(ge(u!=null?u:0,$,S))})}re(c),v(l,c),v(()=>e.rows,c),v(()=>e.maxRows,c),v(()=>e.density,c);let x;return v(m,t=>{if(t)x=new ResizeObserver(c),x.observe(m.value);else{var r;(r=x)==null||r.disconnect()}}),ie(()=>{var t;(t=x)==null||t.disconnect()}),be(()=>{const t=!!(o.counter||e.counter||e.counterValue),r=!!(t||o.details),[i,u]=ue(d),[{modelValue:F,...$}]=$e(e),[S]=Se(e);return a(Be,P({ref:_,modelValue:l.value,"onUpdate:modelValue":f=>l.value=f,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":e["onClick:prepend"],"onClick:append":e["onClick:append"]},i,$,{focused:n.value,messages:Z.value}),{...o,default:f=>{let{isDisabled:w,isDirty:A,isReadonly:ee,isValid:te}=f;return a(Pe,P({ref:b,style:{"--v-textarea-control-height":H.value},"onClick:control":K,"onClick:clear":Q,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},S,{active:z.value||A.value,dirty:A.value||e.dirty,focused:n.value,error:te.value===!1}),{...o,default:ae=>{let{props:{class:D,...le}}=ae;return a(I,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[e.prefix]),T(a("textarea",P({ref:y,class:D,value:l.value,onInput:Y,autofocus:e.autofocus,readonly:ee.value,disabled:w.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:k,onBlur:O},le,u),null),[[de("intersect"),{handler:X},null,{once:!0}]]),e.autoGrow&&T(a("textarea",{class:[D,"v-textarea__sizer"],"onUpdate:modelValue":ne=>l.value=ne,ref:m,readonly:!0,"aria-hidden":"true"},null),[[me,l.value]]),e.suffix&&a("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:r?f=>{var w;return a(I,null,[(w=o.details)==null?void 0:w.call(o,f),t&&a(I,null,[a("span",null,null),a(Ie,{active:e.persistentCounter||n.value,value:L.value,max:W.value},o.counter)])])}:void 0})}),Ne({},_,b,y)}}),He={data:()=>({form:!1,msg:new j(null,null,null),loading:!1,w_message:!1,s_message:!1,error:!1}),methods:{onSubmit(){!this.form||(this.w_message=!1,this.s_message=!1,this.error=!1,this.loading=!0,this.msg.email=this.msg.email.trim(),this.msg.name!==null&&(this.msg.name=this.msg.name.trim()),this.msg.message!==null&&(this.msg.message=this.msg.message.trim()),(this.msg.message===""||this.msg.message===null)&&(this.error=!0,this.loading=!1),this.error===!1&&ve.sendmessage(this.msg).then(e=>{he.track("New Email Sent"),this.loading=!1,this.w_message=!1,this.s_message=!0,this.msg=new j(null,null,null),this.form=!1},e=>{this.w_message=!0,console.log(e),this.loading=!1}))},required(e){return!!e||this.$t("login.required")},valid_mail(e){return/.+@.+\..+/.test(e)||this.$t("login.notvalid_mail")}}},ze={class:"font-weight-bold text-h4 ma-2 pa-2"},Ae={class:"font-weight-bold text-h6 ma-2 pa-2"},De=U("br",null,null,-1);function Te(e,s,d,V,o,l){return B(),N(xe,{class:"mx-auto px-6 py-8",style:{"text-align":"center","margin-top":"50px"},"max-width":"344"},{default:h(()=>[U("p",ze,p(e.$t("nav.contact")),1),U("p",Ae,p(e.$t("contact.happy")),1),a(we),e.w_message?(B(),N(q,{key:0,variant:"outlined",type:"warning",prominent:"",border:"top",style:{color:"#F79191 !important","margin-bottom":"20px"}},{default:h(()=>[R(p(e.$t("error")),1)]),_:1})):G("",!0),e.s_message?(B(),N(q,{key:1,variant:"outlined",type:"success",prominent:"",border:"top",style:{color:"#5FD083 !important","margin-bottom":"20px"}},{default:h(()=>[R(p(e.$t("contact.success")),1)]),_:1})):G("",!0),a(Ue,{modelValue:e.form,"onUpdate:modelValue":s[3]||(s[3]=n=>e.form=n),onSubmit:pe(l.onSubmit,["prevent"])},{default:h(()=>[a(E,{modelValue:e.msg.email,"onUpdate:modelValue":s[0]||(s[0]=n=>e.msg.email=n),readonly:e.loading,rules:[l.required,l.valid_mail],class:"mb-2",clearable:"",variant:"underlined",label:e.$t("login.email"),placeholder:e.$t("login.email_placeholder"),"prepend-inner-icon":"mdi-email-outline"},null,8,["modelValue","readonly","rules","label","placeholder"]),a(E,{modelValue:e.msg.name,"onUpdate:modelValue":s[1]||(s[1]=n=>e.msg.name=n),readonly:e.loading,rules:[],class:"mb-2",clearable:"",variant:"underlined",label:e.$t("contact.name"),placeholder:e.$t("contact.name_placeholder"),"prepend-inner-icon":"mdi-account"},null,8,["modelValue","readonly","label","placeholder"]),a(_e,{modelValue:e.msg.message,"onUpdate:modelValue":s[2]||(s[2]=n=>e.msg.message=n),readonly:e.loading,rules:[l.required],class:"mb-2",clearable:"",variant:"underlined",label:e.$t("contact.message"),placeholder:e.$t("contact.message_placeholder"),"prepend-inner-icon":"mdi-message-outline"},null,8,["modelValue","readonly","rules","label","placeholder"]),De,a(Re,{disabled:!e.form,loading:e.loading,block:"",style:{"background-color":"#5FD083",color:"#fff"},size:"large",type:"submit",variant:"elevated"},{default:h(()=>[R(p(e.$t("contact.send")),1)]),_:1},8,["disabled","loading"])]),_:1},8,["modelValue","onSubmit"])]),_:1})}const Xe=ye(He,[["render",Te]]);export{Xe as default};
